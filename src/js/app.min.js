const routes = { "/": "home", "/index.html": "home", "/projetos": "projetos", "/cadastro": "cadastro" }; function render(e) { let t = document.getElementById("app"); if (!t) return; let r = ""; switch (e) { case "projetos": r = Templates.projetos(); break; case "cadastro": r = Templates.cadastro(); break; default: r = Templates.home() }t.innerHTML = r, "cadastro" === e && setupCadastroPage(), "projetos" === e && setupProjetosPage() } function setupCadastroPage() {
  let e = document.getElementById("volunteerForm"), t = document.getElementById("savedEntries"); if (!e) return; e.addEventListener("submit", t => { t.preventDefault(); let r = e.querySelector(".form-errors"); r || ((r = document.createElement("div")).classList.add("form-errors"), e.prepend(r)); let o = FormValidation.validateVolunteerForm(e); if (o.length) { FormValidation.showErrors(r, o); return } FormValidation.clearErrors(r); let a = { nome: e.nome.value.trim(), email: e.email.value.trim(), cpf: e.cpf.value.trim(), telefone: e.telefone.value.trim(), tipo: e.tipo.value.trim(), createdAt: new Date().toISOString() }; Storage.save(a), "function" == typeof showToast ? showToast("Cadastro salvo localmente âœ…") : alert("Cadastro salvo com sucesso!"), e.reset() }); let r = document.getElementById("showLocalData"); r && r.addEventListener("click", () => {
    let e = Storage.getAll(); if (!e.length) { t.innerHTML = "<p>Nenhum cadastro salvo ainda.</p>"; return } t.innerHTML = `
        <h3>Cadastros salvos (${e.length})</h3>
        <ul>
          ${e.map(e => `<li><strong>${e.nome}</strong> (${e.tipo}) - ${e.email}</li>`).join("")}
        </ul>
      `})
} function setupProjetosPage() { let e = document.querySelector("[data-open-modal]"); e && e.addEventListener("click", () => { "function" == typeof openModal && openModal() }) } function navigateTo(e) { let t = routes[e] || "home"; window.history.pushState({ view: t }, "", e), render(t) } document.addEventListener("click", e => { let t = e.target.closest("[data-link]"); if (t) { e.preventDefault(); let r = t.getAttribute("href"); navigateTo(r) } }), window.addEventListener("popstate", e => { let t = e.state?.view || "home"; render(t) }), document.addEventListener("DOMContentLoaded", () => { render("home") });